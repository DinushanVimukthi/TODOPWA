"use strict";(self["webpackChunktodo_project"]=self["webpackChunktodo_project"]||[]).push([[424],{8710:(e,l,a)=>{a.d(l,{F4:()=>v,GD:()=>g,Jf:()=>b,UZ:()=>h,g5:()=>f,qJ:()=>U,zw:()=>w});var o=a(499),t=a(4727),r=a(397),s=a(338),n=a(482),i=a(1669),u=a(6827),m=a(5198),d=a(3477),c=a(8570);const p=new r.hJ,f=(0,o.iH)(!0),g=(0,o.iH)({email:"",password:"",rememberMe:!1});function v(){const e=(0,r.v0)();(0,r.rh)(e,p).then((e=>{var l,a,o;if(e){const t=null===(l=e.user)||void 0===l?void 0:l.displayName,r=null===(a=e.user)||void 0===a?void 0:a.email,i=null===(o=e.user)||void 0===o?void 0:o.photoURL,m=(0,d.iH)(s.fdb,"Users/"+e.user.uid+"/UserInfo"),p={username:t,email:r,firstName:null===t||void 0===t?void 0:t.split(" ")[0],lastName:null===t||void 0===t?void 0:t.split(" ")[1],role:["student"],password:"",confirmPassword:"",profileImage:i};(0,c.t8)(m,p).then((()=>{console.log("User Created");const e=(0,n.L)();e.user={email:r,username:t,profileurl:i}})).then().catch((e=>{u.Z.create({message:e.message,color:"red",position:"top",timeout:2e3})}))}})).catch((e=>{console.log(e)}))}function h(){g.value={email:"",password:"",rememberMe:!1},i.F.push("/")}function w(){f.value=!1,m.xj.value=!0}function U(){m.xj.value=!1,f.value=!0}function b(){t._.value=!0,console.log("User Logged",g),(0,r.e5)(s.fauth,g.value.email,g.value.password).then((e=>{(0,n.L)().setUser(e.user.uid),i.F.push("/dash").then((()=>{t._.value=!1}))})).catch((e=>{u.Z.create({message:e.message,color:"negative",position:"bottom",icon:"warning"}),console.log("Error",e),t._.value=!1}))}},5198:(e,l,a)=>{a.d(l,{$B:()=>v,NZ:()=>h,a4:()=>U,je:()=>f,xj:()=>g});var o=a(499),t=a(1741),r=a(338),s=a(2373),n=a(482),i=a(8570),u=a(397),m=a(1669),d=a(4727),c=a(6827),p=function(e,l,a,o){function t(e){return e instanceof a?e:new a((function(l){l(e)}))}return new(a||(a=Promise))((function(a,r){function s(e){try{i(o.next(e))}catch(l){r(l)}}function n(e){try{i(o["throw"](e))}catch(l){r(l)}}function i(e){e.done?a(e.value):t(e.value).then(s,n)}i((o=o.apply(e,l||[])).next())}))};const f=(0,o.iH)(1),g=(0,o.iH)(!1),v=(0,o.iH)(),h=(0,o.iH)({username:"",email:"",password:"",confirmPassword:"",firstName:"",lastName:"",profileImage:"",role:[]});function w(){return p(this,void 0,void 0,(function*(){const e={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0};return yield(0,t.Z)(v.value,e)}))}function U(){return p(this,void 0,void 0,(function*(){d._.value=!0,(0,u.Xb)(r.fauth,h.value.email,h.value.password).then((e=>p(this,void 0,void 0,(function*(){const l=(0,i.iH)(r.fdb,"Users/"+e.user.uid+"/UserInfo"),a=(0,s.iH)(r.fst,"profileimages/"+e.user.uid),o=yield w(),t=yield(0,s.KV)(a,o);console.log(t);const u=yield(0,s.Jt)(a);console.log(u),h.value.profileImage=u,h.value.username=yield h.value.firstName+" "+h.value.lastName,(0,i.t8)(l,h.value).then((()=>{console.log("User Created");const e=(0,n.L)();e.user={email:h.value.email,username:h.value.username,profileurl:u}})).then().catch((e=>{c.Z.create({message:e.message,color:"red",position:"top",timeout:2e3})}))})))).then((()=>{m.F.push("/dash").then((()=>{d._.value=!1}))})).catch((e=>{console.log(e),c.Z.create({message:e.message,color:"red",position:"top",timeout:2e3}),d._.value=!1}))}))}},3424:(e,l,a)=>{a.r(l),a.d(l,{default:()=>K});var o=a(9835);function t(e,l,a,t,r,s){const n=(0,o.up)("Loading"),i=(0,o.up)("CreateUser"),u=(0,o.up)("LogUser");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(n,{show:r.loader},null,8,["show"]),(0,o.Wm)(i),(0,o.Wm)(u)],64)}var r=a(4727),s=a(5610);const n={class:"flex-center"},i=(0,o._)("div",{class:"bg-primary text-center text-h5 text-white"},"Create User",-1),u={class:"full-width flex"},m={class:"full-width flex"},d={class:"bg-grey-2 q-pa-sm rounded-borders"},c=(0,o.Uk)(" Select Your Role: "),p={class:"full-width"},f={class:"flex"},g=(0,o._)("u",null,"Already have an account?",-1),v=[g];function h(e,l,a,t,r,s){const g=(0,o.up)("q-input"),h=(0,o.up)("q-step"),w=(0,o.up)("q-option-group"),U=(0,o.up)("q-icon"),b=(0,o.up)("q-file"),_=(0,o.up)("q-btn"),V=(0,o.up)("q-stepper-navigation"),q=(0,o.up)("q-stepper"),y=(0,o.up)("q-dialog");return(0,o.wg)(),(0,o.j4)(y,{modelValue:t.Active_Register,"onUpdate:modelValue":l[12]||(l[12]=e=>t.Active_Register=e),class:"flex",persistent:""},{default:(0,o.w5)((()=>[(0,o._)("div",n,[i,(0,o.Wm)(q,{modelValue:t.createuserstepper,"onUpdate:modelValue":l[11]||(l[11]=e=>t.createuserstepper=e),ref:"regstepper",color:"primary",animated:""},{navigation:(0,o.w5)((()=>[(0,o.Wm)(V,null,{default:(0,o.w5)((()=>[(0,o._)("div",f,[(0,o.Wm)(_,{onClick:l[8]||(l[8]=l=>3!==t.createuserstepper?e.$refs.regstepper.next():t.RegisterUser()),color:"primary",label:3===t.createuserstepper?"Register":"Continue"},null,8,["label"]),1===t.createuserstepper?((0,o.wg)(),(0,o.iD)("div",{key:0,onClick:l[9]||(l[9]=e=>t.LogUserfromReg()),class:"text-center q-ma-sm cursor-pointer text-blue-9"},v)):(0,o.kq)("",!0),t.createuserstepper>1?((0,o.wg)(),(0,o.j4)(_,{key:1,flat:"",color:"primary",onClick:l[10]||(l[10]=l=>e.$refs.regstepper.previous()),label:"Back"})):(0,o.kq)("",!0)])])),_:1})])),default:(0,o.w5)((()=>[(0,o.Wm)(h,{name:1,title:e.$q.screen.width>600?"User Details":"",icon:"user",done:t.createuserstepper>1},{default:(0,o.w5)((()=>[(0,o._)("div",u,[(0,o.Wm)(g,{modelValue:t.Profile.firstName,"onUpdate:modelValue":l[0]||(l[0]=e=>t.Profile.firstName=e),label:"First Name",type:"text",placeholder:"First Name",class:"q-ma-sm"},null,8,["modelValue"]),(0,o.Wm)(g,{modelValue:t.Profile.lastName,"onUpdate:modelValue":l[1]||(l[1]=e=>t.Profile.lastName=e),type:"text",label:"Last Name",placeholder:"Last Name",class:"q-ma-sm"},null,8,["modelValue"])]),(0,o.Wm)(g,{class:"q-ma-sm",modelValue:t.Profile.email,"onUpdate:modelValue":l[2]||(l[2]=e=>t.Profile.email=e),type:"email",label:"User Email",placeholder:"Email Address"},null,8,["modelValue"])])),_:1},8,["title","done"]),(0,o.Wm)(h,{name:2,title:e.$q.screen.width>600?"Security Details":"",icon:"lock",done:t.createuserstepper>1},{default:(0,o.w5)((()=>[(0,o._)("div",m,[(0,o.Wm)(g,{modelValue:t.Profile.password,"onUpdate:modelValue":l[3]||(l[3]=e=>t.Profile.password=e),label:"Password",type:"text",placeholder:"First Name",class:"q-ma-sm"},null,8,["modelValue"]),(0,o.Wm)(g,{modelValue:t.Profile.confirmPassword,"onUpdate:modelValue":l[4]||(l[4]=e=>t.Profile.confirmPassword=e),type:"text",label:"Confirm Password",placeholder:"Last Name",class:"q-ma-sm"},null,8,["modelValue"])]),(0,o._)("div",d,[c,(0,o.Wm)(w,{inline:"",modelValue:t.Profile.role,"onUpdate:modelValue":l[5]||(l[5]=e=>t.Profile.role=e),options:t.options,color:"primary",type:"checkbox"},null,8,["modelValue","options"])])])),_:1},8,["title","done"]),(0,o.Wm)(h,{name:3,title:e.$q.screen.width>600?"Security Details":"",icon:"photo_camera",done:t.createuserstepper>1},{default:(0,o.w5)((()=>[(0,o._)("div",p,[(0,o.Wm)(b,{class:"q-ma-md",label:"Profile Image",clearable:"",standout:"",modelValue:t.File,"onUpdate:modelValue":l[6]||(l[6]=e=>t.File=e),style:{width:"70%"},onChange:l[7]||(l[7]=l=>e.compressimage())},{append:(0,o.w5)((()=>[(0,o.Wm)(U,{name:"camera"})])),_:1},8,["modelValue"])])])),_:1},8,["title","done"])])),_:1},8,["modelValue"])])])),_:1},8,["modelValue"])}var w=a(5198),U=a(8710);const b={name:"CreateUser",setup(){return{createuserstepper:w.je,Active_Register:w.xj,Profile:w.NZ,RegisterUser:w.a4,File:w.$B,LogUserfromReg:U.qJ,options:[{label:"Student",value:"student"},{label:"Teacher",value:"teacher"},{label:"Other",value:"other"}]}}};var _=a(1639),V=a(2074),q=a(8225),y=a(8335),L=a(4152),W=a(5429),x=a(3837),Z=a(2857),k=a(1992),C=a(4455),P=a(9984),N=a.n(P);const I=(0,_.Z)(b,[["render",h]]),D=I;N()(b,"components",{QDialog:V.Z,QStepper:q.Z,QStep:y.Z,QInput:L.Z,QOptionGroup:W.Z,QFile:x.Z,QIcon:Z.Z,QStepperNavigation:k.Z,QBtn:C.Z});const Q=(0,o.Uk)(" Log In "),R=(0,o._)("u",null,"Don't have an account?",-1),j=[R],F=(0,o.Uk)("Log In"),H=(0,o.Uk)("Cancel");function S(e,l,a,t,r,s){const n=(0,o.up)("q-card-section"),i=(0,o.up)("q-separator"),u=(0,o.up)("q-input"),m=(0,o.up)("q-checkbox"),d=(0,o.up)("q-btn"),c=(0,o.up)("q-card-actions"),p=(0,o.up)("q-card"),f=(0,o.up)("q-dialog");return(0,o.wg)(),(0,o.j4)(f,{modelValue:t.Active_Log,"onUpdate:modelValue":l[4]||(l[4]=e=>t.Active_Log=e),persistent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{class:"absolute-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{class:"q-ma-lg text-center text-h4 text-bold"},{default:(0,o.w5)((()=>[Q])),_:1}),(0,o.Wm)(i),(0,o.Wm)(n,{class:"q-ma-lg"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{modelValue:t.LogInData.email,"onUpdate:modelValue":l[0]||(l[0]=e=>t.LogInData.email=e),class:"full-width q-ma-md",type:"email",label:"Email"},null,8,["modelValue"]),(0,o.Wm)(u,{modelValue:t.LogInData.password,"onUpdate:modelValue":l[1]||(l[1]=e=>t.LogInData.password=e),class:"full-width q-ma-md",type:"password",label:"Password"},null,8,["modelValue"]),(0,o.Wm)(m,{label:"Remember Me",modelValue:t.LogInData.rememberMe,"onUpdate:modelValue":l[2]||(l[2]=e=>t.LogInData.rememberMe=e)},null,8,["modelValue"]),(0,o._)("div",{onClick:l[3]||(l[3]=e=>t.RegUserfromLog()),class:"text-center q-ma-sm cursor-pointer text-blue-9"},j),(0,o.Wm)(d,{icon:"g_translate",label:"Log In With Google",onClick:t.logusingGoogle},null,8,["onClick"])])),_:1}),(0,o.Wm)(c,{class:"justify-evenly"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{color:"primary",onClick:t.LogUser},{default:(0,o.w5)((()=>[F])),_:1},8,["onClick"]),(0,o.Wm)(d,{color:"primary",onClick:t.Clear},{default:(0,o.w5)((()=>[H])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}const A={name:"LogUser",setup(){return{LogInData:U.GD,Active_Log:U.g5,LogUser:U.Jf,RegUserfromLog:U.zw,Clear:U.UZ,logusingGoogle:U.F4}}};var $=a(4458),B=a(3190),G=a(926),J=a(1221),M=a(1821);const E=(0,_.Z)(A,[["render",S]]),z=E;N()(A,"components",{QDialog:V.Z,QCard:$.Z,QCardSection:B.Z,QSeparator:G.Z,QInput:L.Z,QCheckbox:J.Z,QBtn:C.Z,QCardActions:M.Z});const O={components:{Loading:s.Z,CreateUser:D,LogUser:z},data(){return{loader:r._}}},Y=(0,_.Z)(O,[["render",t]]),K=Y}}]);