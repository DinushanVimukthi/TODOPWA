"use strict";(self["webpackChunktodo_project"]=self["webpackChunktodo_project"]||[]).push([[57],{8710:(e,o,t)=>{t.d(o,{F4:()=>p,GD:()=>h,Jf:()=>b,UZ:()=>g,g5:()=>f,qJ:()=>_,zw:()=>w});var s=t(499),a=t(4727),n=t(397),i=t(338),r=t(482),l=t(1669),u=t(6827),c=t(5198),d=t(3477),v=t(8570);const m=new n.hJ,f=(0,s.iH)(!0),h=(0,s.iH)({email:"",password:"",rememberMe:!1});function p(){const e=(0,n.v0)();(0,n.rh)(e,m).then((e=>{var o,t,s;if(e){const a=null===(o=e.user)||void 0===o?void 0:o.displayName,n=null===(t=e.user)||void 0===t?void 0:t.email,l=null===(s=e.user)||void 0===s?void 0:s.photoURL,c=(0,d.iH)(i.fdb,"Users/"+e.user.uid+"/UserInfo"),m={username:a,email:n,firstName:null===a||void 0===a?void 0:a.split(" ")[0],lastName:null===a||void 0===a?void 0:a.split(" ")[1],role:["student"],password:"",confirmPassword:"",profileImage:l};(0,v.t8)(c,m).then((()=>{console.log("User Created");const e=(0,r.L)();e.user={email:n,username:a,profileurl:l}})).then().catch((e=>{u.Z.create({message:e.message,color:"red",position:"top",timeout:2e3})}))}})).catch((e=>{console.log(e)}))}function g(){h.value={email:"",password:"",rememberMe:!1},l.F.push("/")}function w(){f.value=!1,c.xj.value=!0}function _(){c.xj.value=!1,f.value=!0}function b(){a._.value=!0,console.log("User Logged",h),(0,n.e5)(i.fauth,h.value.email,h.value.password).then((e=>{(0,r.L)().setUser(e.user.uid),l.F.push("/dash").then((()=>{a._.value=!1}))})).catch((e=>{u.Z.create({message:e.message,color:"negative",position:"bottom",icon:"warning"}),console.log("Error",e),a._.value=!1}))}},5198:(e,o,t)=>{t.d(o,{$B:()=>p,NZ:()=>g,a4:()=>_,je:()=>f,xj:()=>h});var s=t(499),a=t(1741),n=t(338),i=t(2373),r=t(482),l=t(8570),u=t(397),c=t(1669),d=t(4727),v=t(6827),m=function(e,o,t,s){function a(e){return e instanceof t?e:new t((function(o){o(e)}))}return new(t||(t=Promise))((function(t,n){function i(e){try{l(s.next(e))}catch(o){n(o)}}function r(e){try{l(s["throw"](e))}catch(o){n(o)}}function l(e){e.done?t(e.value):a(e.value).then(i,r)}l((s=s.apply(e,o||[])).next())}))};const f=(0,s.iH)(1),h=(0,s.iH)(!1),p=(0,s.iH)(),g=(0,s.iH)({username:"",email:"",password:"",confirmPassword:"",firstName:"",lastName:"",profileImage:"",role:[]});function w(){return m(this,void 0,void 0,(function*(){const e={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0};return yield(0,a.Z)(p.value,e)}))}function _(){return m(this,void 0,void 0,(function*(){d._.value=!0,(0,u.Xb)(n.fauth,g.value.email,g.value.password).then((e=>m(this,void 0,void 0,(function*(){const o=(0,l.iH)(n.fdb,"Users/"+e.user.uid+"/UserInfo"),t=(0,i.iH)(n.fst,"profileimages/"+e.user.uid),s=yield w(),a=yield(0,i.KV)(t,s);console.log(a);const u=yield(0,i.Jt)(t);console.log(u),g.value.profileImage=u,g.value.username=yield g.value.firstName+" "+g.value.lastName,(0,l.t8)(o,g.value).then((()=>{console.log("User Created");const e=(0,r.L)();e.user={email:g.value.email,username:g.value.username,profileurl:u}})).then().catch((e=>{v.Z.create({message:e.message,color:"red",position:"top",timeout:2e3})}))})))).then((()=>{c.F.push("/dash").then((()=>{d._.value=!1}))})).catch((e=>{console.log(e),v.Z.create({message:e.message,color:"red",position:"top",timeout:2e3}),d._.value=!1}))}))}},9057:(e,o,t)=>{t.r(o),t.d(o,{default:()=>g});var s=t(9835);const a={class:"absolute-center"},n=(0,s._)("div",{class:"text-center text-h4"}," WELCOME ",-1),i={class:"q-ma-md justify-evenly"};function r(e,o,t,r,l,u){const c=(0,s.up)("q-btn"),d=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(d,null,{default:(0,s.w5)((()=>[(0,s._)("div",a,[n,(0,s._)("div",i,[(0,s.Wm)(c,{class:"q-ma-lg",size:"35px",label:"Log In",onClick:o[0]||(o[0]=o=>{e.$router.push("/auth"),e.Active_Log=!0,e.Active_Register=!1})}),(0,s.Wm)(c,{class:"q-ma-lg",size:"35px",label:"Register",onClick:o[1]||(o[1]=o=>{e.$router.push("/auth"),e.Active_Register=!0,e.Active_Log=!1})})])])])),_:1})}var l=t(5198),u=t(8710);const c=(0,s.aZ)({name:"IndexPage",setup(){return{Active_Register:l.xj,Active_Log:u.g5}}});var d=t(1639),v=t(9885),m=t(4455),f=t(9984),h=t.n(f);const p=(0,d.Z)(c,[["render",r]]),g=p;h()(c,"components",{QPage:v.Z,QBtn:m.Z})}}]);